<h2>7.1. Estado Actual de la API</h2>
<p>El proyecto OlympicAI Landing V3 es actualmente una <strong>aplicación frontend estática</strong> que no incluye una API backend. Todos los datos y funcionalidades se manejan en el lado del cliente sin necesidad de comunicación con servidores externos.</p>

<h3>7.1.1. Funcionalidades Actuales</h3>
<p>Las funcionalidades actuales que no requieren API incluyen:</p>
<ul>
    <li><strong>Contador Regresivo:</strong> Calculado localmente con JavaScript</li>
    <li><strong>Efectos Visuales:</strong> Renderizados en el navegador</li>
    <li><strong>Diseño Responsivo:</strong> Manejado con CSS</li>
    <li><strong>Animaciones:</strong> Ejecutadas con GSAP y CSS</li>
    <li><strong>Contenido Estático:</strong> Incluido en el template HTML</li>
</ul>

<h2>7.2. Preparación para Futuras APIs</h2>
<p>Aunque actualmente no se utiliza una API, el proyecto está arquitectónicamente preparado para integraciones futuras con sistemas backend.</p>

<h3>7.2.1. Arquitectura Preparada para API</h3>
<p>La estructura del proyecto facilita la integración con APIs:</p>
<ul>
    <li><strong>Composition API:</strong> Permite fácil gestión de estado y llamadas a APIs</li>
    <li><strong>Reactive State:</strong> Sistema preparado para datos dinámicos</li>
    <li><strong>Component Structure:</strong> Componentes modulares que pueden recibir props</li>
    <li><strong>Environment Variables:</strong> Sistema preparado para configuración de APIs</li>
</ul>

<h2>7.3. Endpoints Propuestos para Futuras Integraciones</h2>

<h3>7.3.1. API de Eventos</h3>
<table>
    <thead>
        <tr>
            <th>Método</th>
            <th>Endpoint</th>
            <th>Descripción</th>
            <th>Autenticación</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>GET</td>
            <td><code>/api/v1/events</code></td>
            <td>Obtener lista de eventos disponibles</td>
            <td>No</td>
        </tr>
        <tr>
            <td>GET</td>
            <td><code>/api/v1/events/{id}</code></td>
            <td>Obtener detalles de un evento específico</td>
            <td>No</td>
        </tr>
        <tr>
            <td>GET</td>
            <td><code>/api/v1/events/{id}/participants</code></td>
            <td>Obtener lista de participantes de un evento</td>
            <td>JWT Token</td>
        </tr>
        <tr>
            <td>POST</td>
            <td><code>/api/v1/events/{id}/register</code></td>
            <td>Registrar participante en un evento</td>
            <td>JWT Token</td>
        </tr>
    </tbody>
</table>

<h3>7.3.2. API de Usuarios</h3>
<table>
    <thead>
        <tr>
            <th>Método</th>
            <th>Endpoint</th>
            <th>Descripción</th>
            <th>Autenticación</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>POST</td>
            <td><code>/api/v1/auth/register</code></td>
            <td>Registrar nuevo usuario</td>
            <td>No</td>
        </tr>
        <tr>
            <td>POST</td>
            <td><code>/api/v1/auth/login</code></td>
            <td>Iniciar sesión de usuario</td>
            <td>No</td>
        </tr>
        <tr>
            <td>POST</td>
            <td><code>/api/v1/auth/logout</code></td>
            <td>Cerrar sesión de usuario</td>
            <td>JWT Token</td>
        </tr>
        <tr>
            <td>GET</td>
            <td><code>/api/v1/users/profile</code></td>
            <td>Obtener perfil del usuario actual</td>
            <td>JWT Token</td>
        </tr>
        <tr>
            <td>PUT</td>
            <td><code>/api/v1/users/profile</code></td>
            <td>Actualizar perfil del usuario</td>
            <td>JWT Token</td>
        </tr>
    </tbody>
</table>

<h3>7.3.3. API de Notificaciones</h3>
<table>
    <thead>
        <tr>
            <th>Método</th>
            <th>Endpoint</th>
            <th>Descripción</th>
            <th>Autenticación</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>GET</td>
            <td><code>/api/v1/notifications</code></td>
            <td>Obtener notificaciones del usuario</td>
            <td>JWT Token</td>
        </tr>
        <tr>
            <td>PUT</td>
            <td><code>/api/v1/notifications/{id}/read</code></td>
            <td>Marcar notificación como leída</td>
            <td>JWT Token</td>
        </tr>
        <tr>
            <td>DELETE</td>
            <td><code>/api/v1/notifications/{id}</code></td>
            <td>Eliminar notificación</td>
            <td>JWT Token</td>
        </tr>
    </tbody>
</table>

<h2>7.4. Detalle de Endpoints Clave</h2>

<h3>7.4.1. GET /api/v1/events</h3>
<p>Obtiene la lista de eventos disponibles.</p>

<h4>Parámetros de Entrada</h4>
<ul>
    <li><strong>page:</strong> Número de página (opcional, default: 1)</li>
    <li><strong>limit:</strong> Número de elementos por página (opcional, default: 10)</li>
    <li><strong>status:</strong> Filtro por estado del evento (opcional: active, upcoming, past)</li>
</ul>

<h4>Ejemplo de Request</h4>
<pre><code>GET /api/v1/events?page=1&limit=5&status=upcoming
Headers:
  Content-Type: application/json</code></pre>

<h4>Ejemplo de Respuesta (Éxito - 200 OK)</h4>
<pre><code>{
  "success": true,
  "data": {
    "events": [
      {
        "id": "uuid-123",
        "name": "Olimpiadas Universitarias de IA 2025",
        "description": "Competición de inteligencia artificial...",
        "start_date": "2025-09-18T18:00:00Z",
        "end_date": "2025-09-20T18:00:00Z",
        "location": "Universidad de Baja California",
        "max_participants": 100,
        "current_participants": 45,
        "status": "upcoming",
        "registration_deadline": "2025-09-10T23:59:59Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 5,
      "total": 1,
      "pages": 1
    }
  }
}</code></pre>

<h3>7.4.2. POST /api/v1/auth/register</h3>
<p>Registra un nuevo usuario en el sistema.</p>

<h4>Parámetros de Entrada</h4>
<ul>
    <li><strong>name:</strong> Nombre completo (requerido)</li>
    <li><strong>email:</strong> Correo electrónico (requerido)</li>
    <li><strong>password:</strong> Contraseña (requerido, mínimo 8 caracteres)</li>
    <li><strong>university:</strong> Universidad (requerido)</li>
    <li><strong>student_id:</strong> Número de estudiante (opcional)</li>
</ul>

<h4>Ejemplo de Request</h4>
<pre><code>POST /api/v1/auth/register
Headers:
  Content-Type: application/json

Body:
{
  "name": "Juan Pérez",
  "email": "juan.perez@universidad.edu",
  "password": "securePassword123",
  "university": "Universidad de Baja California",
  "student_id": "2023001"
}</code></pre>

<h4>Ejemplo de Respuesta (Éxito - 201 Created)</h4>
<pre><code>{
  "success": true,
  "data": {
    "user": {
      "id": "uuid-456",
      "name": "Juan Pérez",
      "email": "juan.perez@universidad.edu",
      "university": "Universidad de Baja California",
      "created_at": "2024-01-15T10:30:00Z"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "message": "Usuario registrado exitosamente"
}</code></pre>

<h4>Ejemplo de Respuesta (Error - 400 Bad Request)</h4>
<pre><code>{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Los datos proporcionados no son válidos",
    "details": [
      {
        "field": "email",
        "message": "El correo electrónico ya está registrado"
      },
      {
        "field": "password",
        "message": "La contraseña debe tener al menos 8 caracteres"
      }
    ]
  }
}</code></pre>

<h3>7.4.3. POST /api/v1/events/{id}/register</h3>
<p>Registra un participante en un evento específico.</p>

<h4>Parámetros de Entrada</h4>
<ul>
    <li><strong>event_id:</strong> ID del evento (path parameter)</li>
    <li><strong>category:</strong> Categoría de participación (requerido: beginner, intermediate, advanced)</li>
    <li><strong>team_name:</strong> Nombre del equipo (opcional)</li>
    <li><strong>special_requirements:</strong> Requisitos especiales (opcional)</li>
</ul>

<h4>Ejemplo de Request</h4>
<pre><code>POST /api/v1/events/uuid-123/register
Headers:
  Content-Type: application/json
  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

Body:
{
  "category": "intermediate",
  "team_name": "AI Warriors",
  "special_requirements": "Acceso a GPU para entrenamiento"
}</code></pre>

<h4>Ejemplo de Respuesta (Éxito - 201 Created)</h4>
<pre><code>{
  "success": true,
  "data": {
    "registration": {
      "id": "uuid-789",
      "event_id": "uuid-123",
      "user_id": "uuid-456",
      "category": "intermediate",
      "team_name": "AI Warriors",
      "status": "pending",
      "created_at": "2024-01-15T11:00:00Z"
    }
  },
  "message": "Registro exitoso. Revisa tu correo para confirmación."
}</code></pre>

<h2>7.5. Implementación de Cliente API</h2>

<h3>7.5.1. Configuración de Cliente API</h3>
<p>Para futuras integraciones, se recomienda crear un cliente API centralizado:</p>

<pre><code>// src/services/api.js
import axios from 'axios'

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000'

const apiClient = axios.create({
  baseURL: `${API_BASE_URL}/api/v1`,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
})

// Interceptor para agregar token de autenticación
apiClient.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('auth_token')
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

// Interceptor para manejar errores
apiClient.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Token expirado, redirigir a login
      localStorage.removeItem('auth_token')
      window.location.href = '/login'
    }
    return Promise.reject(error)
  }
)

export default apiClient</code></pre>

<h3>7.5.2. Servicios de API</h3>
<pre><code>// src/services/eventService.js
import apiClient from './api'

export const eventService = {
  // Obtener lista de eventos
  async getEvents(params = {}) {
    const response = await apiClient.get('/events', { params })
    return response.data
  },

  // Obtener evento específico
  async getEvent(id) {
    const response = await apiClient.get(`/events/${id}`)
    return response.data
  },

  // Registrar en evento
  async registerForEvent(eventId, registrationData) {
    const response = await apiClient.post(`/events/${eventId}/register`, registrationData)
    return response.data
  },

  // Obtener participantes de evento
  async getEventParticipants(eventId) {
    const response = await apiClient.get(`/events/${eventId}/participants`)
    return response.data
  }
}</code></pre>

<h3>7.5.3. Composables para API</h3>
<pre><code>// src/composables/useEvents.js
import { ref, computed } from 'vue'
import { eventService } from '@/services/eventService'

export function useEvents() {
  const events = ref([])
  const loading = ref(false)
  const error = ref(null)

  const fetchEvents = async (params = {}) => {
    loading.value = true
    error.value = null
    
    try {
      const response = await eventService.getEvents(params)
      events.value = response.data.events
    } catch (err) {
      error.value = err.message
    } finally {
      loading.value = false
    }
  }

  const upcomingEvents = computed(() => {
    return events.value.filter(event => event.status === 'upcoming')
  })

  return {
    events,
    loading,
    error,
    fetchEvents,
    upcomingEvents
  }
}</code></pre>

<h2>7.6. Manejo de Errores</h2>

<h3>7.6.1. Códigos de Estado HTTP</h3>
<table>
    <thead>
        <tr>
            <th>Código</th>
            <th>Descripción</th>
            <th>Uso</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>200</td>
            <td>OK</td>
            <td>Respuesta exitosa</td>
        </tr>
        <tr>
            <td>201</td>
            <td>Created</td>
            <td>Recurso creado exitosamente</td>
        </tr>
        <tr>
            <td>400</td>
            <td>Bad Request</td>
            <td>Datos de entrada inválidos</td>
        </tr>
        <tr>
            <td>401</td>
            <td>Unauthorized</td>
            <td>Token de autenticación requerido</td>
        </tr>
        <tr>
            <td>403</td>
            <td>Forbidden</td>
            <td>Sin permisos para acceder al recurso</td>
        </tr>
        <tr>
            <td>404</td>
            <td>Not Found</td>
            <td>Recurso no encontrado</td>
        </tr>
        <tr>
            <td>422</td>
            <td>Unprocessable Entity</td>
            <td>Datos válidos pero no procesables</td>
        </tr>
        <tr>
            <td>500</td>
            <td>Internal Server Error</td>
            <td>Error interno del servidor</td>
        </tr>
    </tbody>
</table>

<h3>7.6.2. Estructura de Respuestas de Error</h3>
<pre><code>{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "Descripción del error",
    "details": [
      {
        "field": "campo_específico",
        "message": "Mensaje de error específico"
      }
    ]
  }
}</code></pre>

<h2>7.7. Autenticación y Autorización</h2>

<h3>7.7.1. JWT Authentication</h3>
<p>Para futuras integraciones, se recomienda usar JWT (JSON Web Tokens):</p>
<ul>
    <li><strong>Access Token:</strong> Token de corta duración para autenticación</li>
    <li><strong>Refresh Token:</strong> Token de larga duración para renovar access tokens</li>
    <li><strong>Token Storage:</strong> Almacenamiento seguro en localStorage o sessionStorage</li>
</ul>

<h3>7.7.2. Roles y Permisos</h3>
<pre><code>// Estructura de roles propuesta
const ROLES = {
  ADMIN: 'admin',
  ORGANIZER: 'organizer',
  PARTICIPANT: 'participant',
  VIEWER: 'viewer'
}

const PERMISSIONS = {
  CREATE_EVENT: 'create:event',
  UPDATE_EVENT: 'update:event',
  DELETE_EVENT: 'delete:event',
  VIEW_PARTICIPANTS: 'view:participants',
  MANAGE_REGISTRATIONS: 'manage:registrations'
}</code></pre>

<h2>7.8. Rate Limiting y Seguridad</h2>

<h3>7.8.1. Rate Limiting</h3>
<p>Para proteger la API de abuso:</p>
<ul>
    <li><strong>Rate Limiting:</strong> 100 requests por minuto por IP</li>
    <li><strong>Authentication Endpoints:</strong> 5 requests por minuto por IP</li>
    <li><strong>Registration Endpoints:</strong> 3 requests por minuto por IP</li>
</ul>

<h3>7.8.2. Medidas de Seguridad</h3>
<ul>
    <li><strong>CORS:</strong> Configuración apropiada de Cross-Origin Resource Sharing</li>
    <li><strong>CSRF Protection:</strong> Tokens CSRF para operaciones sensibles</li>
    <li><strong>Input Validation:</strong> Validación estricta de datos de entrada</li>
    <li><strong>SQL Injection Prevention:</strong> Uso de prepared statements</li>
    <li><strong>XSS Protection:</strong> Sanitización de datos de salida</li>
</ul> 